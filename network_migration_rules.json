{
  "version": "2.0",
  "description": "Simplified network migration rules for ConfigMigrator",
  "target_version": "25.1.200",
  "preserve_these_paths": [
    "global.commonlabels",
    "mgm.annotations",
    "mgm.service.labels",
    "ndb.annotations",
    "ndb.service.labels",
    "api.annotations",
    "api.egressannotations",
    "api.service.labels",
    "api.externalService.labels",
    "api.externalService.annotations",
    "api.connectivityService.labels",
    "api.ndbapp.annotations",
    "api.ndbapp.connectivityService.labels",
    "api.ndbapp.service.labels",
    "api.ndbapp.externalconnectivityService.labels",
    "api.ndbapp.externalconnectivityService.annotations",
    "db-replication-svc.dbreplsvcdeployments.*.egressannotations",
    "db-replication-svc.dbreplsvcdeployments.*.podAnnotations",
    "db-replication-svc.dbreplsvcdeployments.*.service.annotations",
    "db-replication-svc.dbreplsvcdeployments.*.internalService.annotations",
    "db-monitor-svc.podAnnotations",
    "db-monitor-svc.service.labels",
    "db-monitor-svc.service.annotations",
    "db-backup-manager-svc.service.labels",
    "db-backup-manager-svc.service.annotations",
    "test.annotations"
  ],

  "preserve_these_annotations": [
    "sidecar.istio.io/inject",
    "sidecar.istio.io/proxyCPU",
    "sidecar.istio.io/proxyCPULimit",
    "sidecar.istio.io/proxyMemory",
    "sidecar.istio.io/proxyMemoryLimit",
    "proxy.istio.io/config",
    "traffic.sidecar.istio.io/excludeInboundPorts",
    "traffic.sidecar.istio.io/excludeOutboundPorts",
    "oracle.com/cnc",
    "oracle.com.cnc/egress-network",
    "k8s.v1.cni.cncf.io/networks"
  ],

  "exclude_these_annotations": [
    "oracle.com.cnc/app-protocols",
    "metallb.universe.tf/address-pool"
  ],

  "preserve_these_patterns": [
    "metallb\\.universe\\.tf/.*",
    "cis\\.f5\\.com/.*",
    "oracle\\.com\\.cnc/.*",
    "istio\\.io/.*",
    "vz\\.webscale\\.com/.*",
    ".*\\.service\\.labels",
    ".*\\.commonlabels"
  ],

  "update_version_in": [
    "global.commonlabels",
    "global.version",
    "global.image.tag",
    "*.image.tag",
    "*.inframonitor.image.tag",
    "*.sidecar.image.tag",
    "*.initcontainer.image.tag",
    "*.initsidecar.image.tag"
  ],

  "merge_strategy": "smart_merge",

  "required_labels": [
    "app"
  ]
}
